@model OnlineCourseSystem.Domain.Model.Course
@{
    ViewData["Title"] = "UploadContent";
    Layout = "~/Areas/User/Views/Shared/_LayoutMain.cshtml";
}

    <div class="container">
        <div class="upload-video">

            <h3 class="section_title title-create">Step <span>2</span> of <span>2</span></h3>

            <div class="uploading-box">
                <h4>Choose a picture of your course</h4>
                <div class="form-group form-group-upload">

                    <div class="input-group input-group-video">
                        <div class="add-course-picture">
                            <form method="post">
                                <div class="file-input-wrapper">
                                    <button class="btn-file-input counter_form_button upload-button">Choose a picture</button>
                                    <input type="file" name="CoursePicture">
                                </div>
                            </form>
                        </div>
                        <div class="content-uploading">

                            <img src="~/images/picture-download-icon.svg" alt="AddPicture" />
                        </div>



                    </div>
                </div>

                <h4>Upload your video</h4>
                <div class="form-group form-group-upload">


                    <div class="input-group input-group-video">
                        <div class="add-video">
                            <div class="add-video-box">
                                <div class="add-video-text">Section-1 Task-2</div>
                                <div class="file-input-wrapper">
                                    <div class="progress">
                                        <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width:0%;">
                                            00%
                                        </div>
                                    </div>
                                    <button class="btn-file-input counter_form_button counter_form_button-video">Upload video</button>
                                    <input type="file" name="CourseVideo">
                                </div>
                            </div>


                            <div class="add-video-box">
                                <div class="add-video-text">Section-1 Task-2</div>
                                <div class="file-input-wrapper">
                                    <button class="btn-file-input counter_form_button counter_form_button-video">Upload video</button>
                                    <input type="file" name="CourseVideo">
                                </div>
                            </div>


                        </div>

                    </div>
                </div>
            </div>
            
            @*<form method="post" enctype="multipart/form-data" asp-controller="UploadFiles" asp-action="Index" id="form1">
                <div class="form-group">
                    <div class="col-md-10">
                        <p>Upload one or more files using this form:</p>
                        <input type="file" name="files" multiple />
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-5">
                        <div class="progress">
                            <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width:0%;">
                                00%
                            </div>
                        </div>

                    </div>
                </div>
    
                <div class="form-group">
                    <div class="col-md-10">
                        <input type="submit" value="Upload" />

                        <label id="responseText"></label> //if success, update the #responseText
                    </div>
                </div>
 
            </form>*@
            
            

            <form action="/" method="post">
                <button class="counter_form_button">finish</button>
            </form>
        </div>

    </div>


 
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.1/jquery.form.js"></script>

   
    <script>
        $(function () {      
            var options = {
                success: function (data) {
                    $("#responseText").html("Ok");
                },
                xhr: function () {
                    // get the native XmlHttpRequest object
                    var xhr = $.ajaxSettings.xhr();
                    
                    //set the onprogress event handler
                    xhr.upload.onprogress = function (evt) {
                        console.log('progress', evt.loaded / evt.total * 100)
                        $(".progress-bar").css("width", evt.loaded / evt.total * 100+"%").text(evt.loaded / evt.total * 100+"%");
                    };
                    // set the onload event handler
                    xhr.upload.onload = function () { console.log('DONE!') };
                    // return the customized object
                    return xhr;
                }
            };
            $("#form1").ajaxForm(options);             
        })
    </script>
  
}